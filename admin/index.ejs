<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Content Manager</title>
  <!-- Include the stylesheets from your site here -->
  <link rel="stylesheet" href="//cms.netlify.com/assets/cms.css" />
  <!-- Include a CMS specific stylesheet here -->

  <base href="/admin/">
  <link rel="stylesheet" href="/assets/css/skel.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/style-desktop.css">
  <style>
    .container {
      width: auto;
      max-width: 1200px;
    }
    body.ember-application .cms-list-entry {
      background: #fff;
    }
  </style>
  <script>window.CMS_ENV = "<%= process.env.CMS_ENV || 'development' %>"</script>
</head>
<body>
  {% raw %}
  <script type="application/x-yaml" id="cms-yaml-config">
backend:
  name: netlify-api
  url: http://localhost:8080

media_folder: "images" # Folder where user uploaded files should go

collections: # A list of collections the CMS should be able to edit
  - name: "posts" # Used in routes, ie.: /admin/collections/:slug/edit
    label: "Post" # Used in the UI, ie.: "New Post"
    folder: "posts" # The path to the folder where the documents are stored
    create: false # Allow users to create new documents in this collection
    fields: # The fields each document in this collection have
      - {label: "Body", name: "body", widget: "markdown"}
  - name: "data"
    label: "Data"
    files:
      - name: "_data"
        label: "Post Data"
        file: "posts/_data.json"
        fields:
          - label: "Characters"
            name: "list"
            widget: "list"
            fields:
              - {label: "Name", name: "pageTitle", widget: "string"}
              - {label: "Title", name: "title", widget: "string"}
              - {label: "Date", name: "date", widget: "string"}
              - {label: "Tags", name: "tags", widget: "string"}
  </script>
  <script type="text/x-handlebars" data-template-name='cms/preview/posts'>
    <div id="main-wrapper">
        <div class="container">
            <!--Content-->
            <article class="box post">
                <header>
                    <h2><%- public.posts._data.title %></h2>
                    <p><%- public.posts._data.date %></p>
                </header>
                {{cms-preview field='body'}}
            </article>
        </div>
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name='cms/preview/_data'>
    <div id="main-wrapper">
        <div class="container">
            {{#cms-preview field="list" as |character| }}
              <section class="box">
                  <span class="image featured">{{cms-preview field="image" from=character}}</span>
                  <header>
                      <h3><%- public.posts._data.pageTitle %></h3>
                  </header>
                  <p><%- public.posts._data.title %></p>
                  <p><%- public.posts._data.date %></p>
                  <p><%- public.posts._data.tags %></p>
              </section>
            {{/cms-preview}}
        </div>
    </div>
  </script>
  {% endraw %}
  <script src="//cms.netlify.com/assets/vendor.js"></script>
  <script src="//cms.netlify.com/assets/cms.js"></script>
</body>
</html>
